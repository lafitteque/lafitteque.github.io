import Hideable from '../../../components/Hideable.astro'
import Remarque from '../../../components/Remarque.astro'
import Exercice from '../../../components/Exercice.astro'
import Item from '../../../components/Item.astro'
import Indent from '../../../components/Indent.astro'
import Fil from '../../../components/Fil.astro'


<Item type='proposition' titre='somme télescopique'>

Soient $a_0, a_1 \v a_2 \v \dotsm \v a_m$ des complexes où $m \in \N$. On a :

$$ 
\somme{i=0}{m} a_{i+1} - a_i = a_{m+1} - a_0
$$
</Item>

<Hideable type='démonstration' titre=''>
$ \somme{i=0}{m} a_{i+1} - a_i = \somme{i=0}{m} a_{i+1} \, - \, \somme{i=0}{m}a_i$. En changeant d'indice sur la deuxième somme avec $i' = i-1$, on a :

$ \somme{i=0}{m} a_{i+1} - a_i = \somme{i=0}{m-1} a_{i+1} \, - \, \somme{i=0}{m-1}a_{i'+1} + a_{m+1} - a_0$ (on retire les termes nécessaires de fin / début des sommes). D'où :

$ \somme{i=0}{m} a_{i+1} - a_i =  a_{m+1} - a_0$
</Hideable>


<Exercice titre=''>

Calculer $\somme{i = 0}{n} \ln(1 + \frac{1}{i})$.
</Exercice>

<Hideable type='solution' titre=''>

$$
\somme{i = 0}{n} \ln(1 + \dfrac{1}{i}) = \somme{i = 0}{n} \ln(\dfrac{i + 1}{i}) = \somme{i = 0}{n} \ln(i+1) - \ln(i)
$$

mais donc, 

$$
\somme{i = 0}{n} \ln(1 + \fdrac{1}{i}) = \ln(n+1) - \ln(1) = \ln(n+1)
$$
</Hideable>

<Item type='proposition' titre='produit télescopique'>

Soient $a_0, a_1 \v a_2 \v \dotsm \v a_m$ des complexes non nuls où $m \in \N$. On a :

$$ 
\produit{i=0}{m} \dfrac{a_{i+1}}{a_i} = \dfrac{a_{m+1}}{a_0} 
$$
</Item>


<Hideable type='démonstration' titre=''>

$\ln \Big( \produit{i=0}{m} \dfrac{a_{i+1}}{a_i} \Big)  = \somme{i=0}{m} \ln(\dfrac{a_{i+1}}{a_i})$. On pose $V_i = \ln(a_i)$ d'où :

$\ln \Big( \produit{i=0}{m} \dfrac{a_{i+1}}{a_i} \Big)  = \somme{i=0}{m} \Big( \ln(a_{i+1}) - \ln(a_i) \Big)= \ln(a_{m+1}) - \ln(a_0)$ par télescopage. 

En repassant à l'exponentielle, on a : $\produit{i=0}{m} \dfrac{a_{i+1}}{a_i} = \dfrac{a_{m+1}}{a_0}$
</Hideable>


<Exercice titre='Somme géométrique'>
Soient $q \in \C \setminus \{ 1\}$ et $n \in \N$.

Calculer astucieusement $(1-q)\somme{i = 0}{n} q^i$ et en déduire $\somme{i = 0}{n} q^i$.
</Exercice>

<Hideable type='solution' titre=''>
Par linéarité de la somme,  
$$
(1-q)\somme{i = 0}{n} q^i = \somme{i = 0}{n} (1-q)q^i = \somme{i = 0}{n} q^{i+1} - q^i = q^{n+1} - 1
$$

En divisant par $1-q$ (on sait que $1-q \neq 0$ car $q \neq 1$). On obtient $\somme{i = 0}{n} q^i = \dfrac{1-q^{n+1}}{1-q}$
</Hideable>


<Exercice titre='Somme des entiers (ter) et de leurs carrés (bis)'>
Soit $n \in \N$.

1\) Calculer $\somme{k=1}{n} (k+1)^2 - k^2$ de deux manières différentes et en déduire $\somme{k=1}{n} k$.

2\) En proposant une somme télescopique appropriée, calculer $\somme{k=1}{n} k^2$

3\) Quelle somme télescopique permettrait de calculer $\somme{k=1}{n} k^{67}$ ? Aucun calcul n'est attendu!
</Exercice>

<Hideable type='solution' titre=''>

1\) Cette somme est télescopique et vaut donc $(n+1)^2 - 1$. 

On obtient $ (n+1)^2 - 1 = \somme{k=1}{n} \underbrace{(k+1)^2 - k^2}_{2k+1} = \somme{k=1}{n} (2k + 1)$. Puis en utilisant la linéarité de la somme : 

$ n^2 + 2n = 2\somme{k=1}{n} k \, + \, n$ et finalement, on a 
$$
\somme{k=1}{n} = \dfrac{n^2 + n}{2} =  \dfrac{n(n+1)}{2}
$$

<br/>

2\) On se propose d'utiliser la somme $\somme{k=1}{n} (k+1)^3 - k^3$ que nous calculerons de deux manières différentes. 

D'abord, 
$$
(n+1)^3 - 1 = \somme{k=1}{n} \underbrace{(k+1)^3 - k^3}_{3k^2 + 3k -1} = \somme{k=1}{n} 3k^2 + 3k +1
$$

puis, par linéarité de la somme on a :

$$
(n+1)^3 - 1 = 3\somme{k=1}{n} k^2 + 3\somme{k=1}{n} k \, + \, n
$$ 

d'où, en utilisant la formule de la somme des entiers :

$$
\dfrac{(n+1)^3 -1 - n - 3\dfrac{n(n+1)}{2}}{3} = \somme{k=1}{n} k^2
$$ 

mais $ (n+1)^3 -1 - n - 3\dfrac{n(n+1)}{2} = \dfrac{2n^3 +6n^2 + 6n + 2 - 2 - 2n - 3n^2 -3n}{2} $

donc $(n+1)^3 -1 - n - 3\dfrac{n(n+1)}{2}= \dfrac{2n^3 +3n^2 + n }{2} = \dfrac{n(2n^2 + 3n + 1) }{2}$

Enfin, on identifie $2n^2 +3n +5$ à $(n+1)(2n+1)$ ce qui donne  

$$
\somme{k=1}{n} k^2 = \dfrac{n(n+1)(2n+1)}{6}
$$

<br/>

3\) Il faudrait utiliser le telescopage $\somme{k=1}{n} (k+1)^{68} - k^{68}$ pour obtenir une expression en fonction de toutes les sommes de puissances inférieures. Ce qui signifie qu'il faut d'abord calculer la somme des cubes, puis celle des entiers à la puissance quatre, etc.

</Hideable>