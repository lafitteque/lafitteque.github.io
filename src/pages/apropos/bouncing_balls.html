<script src="https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.js"></script>
<script>

    // My first program on processing, to learn how to use classes, loops ans arrays.
    // It creates balls (with random speed and colour) and  that bounce on the borders of the screen
    // Position
    let x;
    let y;
    let vx; // x velocity
    let vy; // y velocity
    let w = 1000; // width
    let h = 800; // height
    let ballNumber = 20;
    let balls;
    function setup() {
        frameRate(60);
        createCanvas(1000, 800);
        background(40, 40, 40);
        balls = new Array(ballNumber);
        for (let i = 0; i < ballNumber; i++) {
            balls[i] = new Ball();
        }
    }
    function draw() {
        background(40, 40, 40);
        for (let i = 0; i < ballNumber; i++) {
            balls[i].advance();
            balls[i].draw();
        }
    }


    class Ball {
        x;
        y;
        vx;
        vy;
        red;
        green;
        blue;
        radius;
        constructor() {
            this.x = random(950) + 25.0;
            this.y = random(750) + 25.0;
            this.vx = (random(2.5) * (random(2) * 2 - 1) + 4) * (random(2) * 2 - 1);
            this.vy = (random(2.5) * (random(2) * 2 - 1) + 4) * (random(2) * 2 - 1);
            this.red = random(255);
            this.green = random(255);
            this.blue = random(255);
            this.radius = 15;
        }
        advance() {
            if (
                this.x + this.vx + this.radius > w ||
                this.x + this.vx - this.radius < 0
            ) {
                this.vx *= -1;
            }
            if (
                this.y + this.vy + this.radius > h ||
                this.y + this.vy - this.radius < 0
            ) {
                this.vy *= -1;
            }
            this.x += this.vx;
            this.y += this.vy;
        }
        draw() {
            noStroke();
            fill(this.red, this.green, this.blue);
            ellipse(this.x, this.y, 2 * this.radius, 2 * this.radius);
        }
    }


</script>